{% for item in items %}
<div class="string-item" data-key="{{ item.key }}">
    <div class="string-content">
        <div class="string-key">{{ item.key }}</div>
        <div class="string-value truncate">{{ item.value }}</div>
        <div class="string-meta">
            åˆ›å»ºæ—¶é—´: {{ item.created_at | datetime }}
            {% if item.updated_at != item.created_at %}
            | æ›´æ–°æ—¶é—´: {{ item.updated_at | datetime }}
            {% endif %}
        </div>
        <div class="string-tags-container">
            <div class="tags-list">
                {% for tag in item.tags %}
                    <span class="tag-item">
                        {{ tag }}
                        <button class="delete-tag-btn" data-tag="{{ tag }}" title="åˆ é™¤æ ‡ç­¾">&times;</button>
                    </span>
                {% endfor %}
            </div>
            <form class="add-tag-form">
                <input type="text" class="add-tag-input" placeholder="æ·»åŠ æ ‡ç­¾..." list="all-tags-list">
                <button type="submit" class="btn-add-tag">æ·»åŠ </button>
            </form>
        </div>
    </div>
    <div class="actions">
        <button class="btn copy-btn" title="å¤åˆ¶åˆ°å‰ªè´´æ¿">
            <span>ğŸ“‹</span>
            å¤åˆ¶
        </button>
        <button class="btn preview-btn" type="button" title="å±•å¼€/æ”¶èµ·å®Œæ•´å†…å®¹">
            <span>ğŸ‘ï¸</span>
            å±•å¼€
        </button>
        <button type="button" class="btn btn-danger delete-btn" data-key="{{ item.key }}">
            <span>ğŸ—‘ï¸</span>
            åˆ é™¤
        </button>
    </div>
</div>
{% else %}
<p class="no-items">æš‚æ— å­—ç¬¦ä¸²</p>
{% endfor %}

{% if total_pages > 1 %}
<div class="pagination">
    {% for p in range(1, total_pages + 1) %}
        <a href="{{ url_for('main.index', page=p, search=search_query, tag=current_tag) }}"
           class="{{ 'active' if p == page else '' }}">
            {{ p }}
        </a>
    {% endfor %}
</div>
{% endif %}
